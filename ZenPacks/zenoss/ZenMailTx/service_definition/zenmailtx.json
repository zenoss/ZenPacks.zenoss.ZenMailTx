{
	"servicePath": "/hub/collector",
	"serviceDefinition": {
		"Description": "Test round-trip email delivery time",
		"Name": "zenmailtx",
		"Launch": "auto",
		"ImageID": "",
		"Command": "su - zenoss -c \"/opt/zenoss/bin/zenmailtx run -c\"",
		"ConfigFiles": {
		    "/opt/zenoss/etc/zenmailtx.conf": {
			"Filename": "/opt/zenoss/etc/zenmailtx.conf",
			"Owner": "zenoss:zenoss",
			"Permissions": "0664"
		    }
		},
		"LogConfigs": [{
			"filters": [
			    "pythondaemon"
			],
			"path": "/opt/zenoss/log/zenmailtx.log",
			"type": "zenmailtx"
		}],
		"Instances": {
		   "min": 1
		},
		"Endpoints": [{
            "Name": "zenhub",
            "Application": "{{(parent (parent .)).Name}}_zenhubPB",
            "PortNumber": 8789,
            "Protocol": "tcp",
            "Purpose": "import"
        },
		{
		    "Name": "memcached",
		    "Application": "memcached",
		    "PortNumber": 11211,
		    "Protocol": "tcp",
		    "Purpose": "import"
		},
		{
		    "Name": "rabbitmq",
		    "Application": "rabbitmq",
		    "PortNumber": 5672,
		    "Protocol": "tcp",
		    "Purpose": "import"
		}],
		"HealthChecks": {
            "zenhub_answering": {
                "Script": "/opt/zenoss/bin/healthchecks/zenhub_answering",
                "Interval": 10.0
            },
			"running": {
			    "Script": "pgrep -fu zenoss zenmailtxt.py > /dev/null",
			    "Interval": 5.0
			}
		},
		"Tags": [
			"daemon",
			"ZenPacks.zenoss.Layer2"
		]
	}
}
